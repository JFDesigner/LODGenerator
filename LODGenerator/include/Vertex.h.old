#ifndef VERTEX_H_
#define VERTEX_H_
//----------------------------------------------------------------------------------------------------------------------
/// @file Vertex.h
/// @brief basic vertex class for use with the LOD generator
//----------------------------------------------------------------------------------------------------------------------

#include <ngl/Types.h>
#include <vector>
#include "Triangle.h"

//----------------------------------------------------------------------------------------------------------------------
/// @class Vertex "include/Vertex.h"
/// @brief used to store vertex information for the ModelLOD class and imported
///   model
/// @author Jonathan Flynn
/// @version 0.1
/// @date 06/03/15 add more functions and code
/// @todo change ctor of vertex to calculate adjacent vertices and faces
/// @todo write function to calculate adjacent verticies and faces
/// @todo this will need to be in the ModelLOD.h
//----------------------------------------------------------------------------------------------------------------------
// pre-declare the triangle class
class Triangle;

class Vertex
{

public:

  //----------------------------------------------------------------------------------------------------------------------
  /// @brief default constructor
  /// @param[in]  _id of the model's vertex number
  /// @param[in]  _x the x-coordinate of the point
  /// @param[in]  _y the y-coordinate of the point
  /// @param[in]  _z the z-coordinate of the point
  //----------------------------------------------------------------------------------------------------------------------
  Vertex( const ngl::Real _id, const ngl::Real _x, const ngl::Real _y,
         const ngl::Real _z ):
    m_id(_id),
    m_x(_x),
    m_y(_y),
    m_z(_z){;}
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief copy ctor
  //----------------------------------------------------------------------------------------------------------------------
  Vertex( const Vertex& _v ):
    m_id(_v.m_id),
    m_x(_v.m_x),
    m_y(_v.m_y),
    m_z(_v.m_z){;}
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief check for equality uses FCompare (from Util.h) as float values
  /// @param[in] _v the vertex to check against
  /// @returns true or false
  //----------------------------------------------------------------------------------------------------------------------
  bool operator==( const Vertex& _v )const;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief not equal check
  /// @param[in] _v the vertex to check against
  /// @returns true of false
  //----------------------------------------------------------------------------------------------------------------------
  bool operator!=( const Vertex& _v )const;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief assignment operator set the current vecrtex to rhs
  /// @param[in] _v the vertex to set
  /// @returns a new vertex
  //----------------------------------------------------------------------------------------------------------------------
  Vertex& operator=( const Vertex& _v );
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief returns x coordinate
  /// @returns a x coordinate of vertex
  //----------------------------------------------------------------------------------------------------------------------
  ngl::Real getX() { return m_x; }
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief returns y coordinate
  /// @returns a y coordinate of vertex
  //----------------------------------------------------------------------------------------------------------------------
  ngl::Real getY() { return m_y; }
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief returns z coordinate
  /// @returns a z coordinate of vertex
  //----------------------------------------------------------------------------------------------------------------------
  ngl::Real getZ() { return m_z; }
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief set x coordinate
  /// @param[in] Real value for x
  //----------------------------------------------------------------------------------------------------------------------
  void setX( const ngl::Real _x ) { m_x = _x; }
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief set y coordinate
  /// @param[in] Real value for y
  //----------------------------------------------------------------------------------------------------------------------
  void setY( const ngl::Real _y ) { m_y = _y; }
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief set z coordinate
  /// @param[in] Real value for z
  //----------------------------------------------------------------------------------------------------------------------
  void setZ( const ngl::Real _z ) { m_z = _z; }
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief remove adjacent triangle
  /// @param[in] pointer to triangle face
  //----------------------------------------------------------------------------------------------------------------------
  void remAdjFace( const Triangle *_t );
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief remove adjacent vertex
  /// @param[in] pointer to vertex
  //----------------------------------------------------------------------------------------------------------------------
  void remAdjVert( const Vertex* _v );
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief add adjacent traingle
  /// @param[in] pointer to triangle face
  //----------------------------------------------------------------------------------------------------------------------
  void addAdjFace( const Triangle* _t);
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief add adjacent vertext
  /// @param[in] pointer to vertex
  //----------------------------------------------------------------------------------------------------------------------
  void addAdjVert( const Vertex* _v);

protected:

  //----------------------------------------------------------------------------------------------------------------------
  /// @brief id of the model's vertex number
  //----------------------------------------------------------------------------------------------------------------------
  int m_id;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief stores the adjacent vertices to the current vertex
  //----------------------------------------------------------------------------------------------------------------------
  std::vector<Vertex *> m_vertAdj;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief stores the adjacent faces to the current vertex
  //----------------------------------------------------------------------------------------------------------------------
  std::vector<Triangle *> m_faceAdj;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief value for the lowest amount of change cost to remove this vertex
  //----------------------------------------------------------------------------------------------------------------------
  float m_cost;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief the vertex to collapse onto to create the lowest cost "m_cost"
  //----------------------------------------------------------------------------------------------------------------------
  Vertex* m_collapseVertex;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief x component of the point
  //----------------------------------------------------------------------------------------------------------------------
  ngl::Real m_x;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief y component of the point
  //----------------------------------------------------------------------------------------------------------------------
  ngl::Real m_y;
  //----------------------------------------------------------------------------------------------------------------------
  /// @brief z component of the point
  //----------------------------------------------------------------------------------------------------------------------
  ngl::Real m_z;

};

#endif
//----------------------------------------------------------------------------------------------------------------------
